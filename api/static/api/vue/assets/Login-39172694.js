import{_ as l,o as p,c as m,b as o,w as i,v as c,t as u}from"./index-be0a815f.js";const f={data(){return{username:"",password:"",response:""}},components:{},methods:{async get_csrf(){await(await fetch("/csrf/",{method:"GET"})).text()},async Login(){let t={username:this.username,password:this.password},s=await(await fetch("/api/students/",{method:"POST",body:JSON.stringify(t),headers:{"X-CSRFToken":this.getCookie(),Source:"Login"}})).text();if(s=="Username or password incorrect."){this.response=s;return}window.location.replace("/mydecks")},getCookie(){let t="";if(document.cookie&&document.cookie!=="")for(var e=document.cookie.split(";"),s=0;s<e.length;s++){var a=e[s].trim();if(a.substring(0,10)==="csrftoken="){t=decodeURIComponent(a.substring(10));break}}return t}},mounted(){this.get_csrf()}},w={class:"container text-center"},g={class:"form-outline mb-4"},b={class:"form-outline mb-4"},h={class:"text-danger"};function _(t,e,s,a,n,d){return p(),m("div",w,[o("div",g,[i(o("input",{type:"text",id:"username",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=r=>n.username=r),placeholder:"Enter username"},null,512),[[c,n.username]])]),o("div",b,[i(o("input",{type:"password",id:"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=r=>n.password=r),placeholder:"Enter password"},null,512),[[c,n.password]])]),o("button",{type:"button",onClick:e[2]||(e[2]=r=>d.Login()),class:"btn btn-primary btn-block mb-4"},"Sign in"),o("p",h,u(n.response),1)])}const y=l(f,[["render",_]]);export{y as default};
