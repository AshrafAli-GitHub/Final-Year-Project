import{_ as d,o as c,c as m,b as s,w as i,v as p,t as u}from"./index-be0a815f.js";const f={data(){return{username:"",pass1:"",pass2:"",response:""}},components:{},methods:{async get_csrf(){await(await fetch("/csrf/",{method:"GET"})).text()},async signUp(){if(this.pass1!=this.pass2){this.response="The passwords do not match!";return}let r={username:this.username,password:this.pass1},t=await(await fetch("/api/students/",{method:"POST",body:JSON.stringify(r),headers:{"X-CSRFToken":this.getCookie(),Source:"Signup"}})).text();if(t=="Username taken"){this.response=t;return}window.location.replace("/mydecks")},getCookie(){let r="";if(document.cookie&&document.cookie!=="")for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var a=e[t].trim();if(a.substring(0,10)==="csrftoken="){r=decodeURIComponent(a.substring(10));break}}return r}},mounted(){this.get_csrf()}},h={class:"container text-center"},g={class:"form-outline mb-4"},w={class:"form-outline mb-4"},b={class:"form-outline mb-4"},k={class:"text-danger"};function _(r,e,t,a,o,l){return c(),m("div",h,[s("div",g,[i(s("input",{type:"text",id:"registerName",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=n=>o.username=n),placeholder:"Create username"},null,512),[[p,o.username]])]),s("div",w,[i(s("input",{type:"password",id:"registerPassword",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=n=>o.pass1=n),placeholder:"Create password"},null,512),[[p,o.pass1]])]),s("div",b,[i(s("input",{type:"password",id:"registerPassword2",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=n=>o.pass2=n),placeholder:"Re-enter password"},null,512),[[p,o.pass2]])]),s("button",{type:"button",onClick:e[3]||(e[3]=n=>l.signUp()),class:"btn btn-primary btn-block mb-3"},"Create"),s("p",k,u(o.response),1)])}const v=d(f,[["render",_]]);export{v as default};
